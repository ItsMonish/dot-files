# Plugin manager stuff
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'

# Setting mouse capabilities
set -g mouse on

# Reload the config file
bind R source-file $HOME/.config/tmux/tmux.conf

# Remapping the TMUX prefix
unbind C-b
set-option -g prefix C-Space
bind-key C-Space send-prefix

# To open new windows in current working directory
bind c new-window -c "#{pane_current_path}"

# Remapping split keys
bind | split -h
bind - split -v
unbind %
unbind '"'

# Fast pane switching
bind -n M-h select-pane -L
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-l select-pane -R

# Cheat sheet open on Prefix + Q
bind Q new-window '$HOME/Sources/scripts/cheats.sh; read -r; exit'

# Number panes and windows from 1-index
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# Tmux-resurrect for nvim
set -g @resurrect-strategy-nvim 'session'

# Move between windows
bind -n C-M-p previous-window
bind -n C-M-n next-window

# Status bar configuration
set -g status-position top
set -g status-style bg=#000000
set -g status-left-length 40
set -g status-left "#(powerline tmux left)"
set -g status-left '#[fg=colour235,bg=colour252,bold] #S #[fg=colour252,bg=default] '
set -g status-right "#(powerline tmux right)"
set -g status-right '#[fg=blue]#[fg=#000000]#[bg=blue] #(uptime --pretty) #[fg=white]#[fg=colour16,bg=white] #h '

setw -g window-status-current-format '#[bg=cyan,fg=#000000]#[fg=#000000,bg=cyan] #I #W #F #[fg=cyan,bg=#000000]'
setw -g window-status-format '#[bg=color246,fg=#000000]#[fg=#000000,bg=color246] #I #W #F #[fg=color246,bg=#000000]'

# Tmux for vi based keys
setw -g mode-keys vi
set-window-option -g mode-keys vi

# Run the Tmux Package Manager
run '~/.tmux/plugins/tpm/tpm'
